
<!DOCTYPE html>
<html>
  <head>
    <title>Google Maps API Key Diagnostic</title>
    <style>
      body {
        font-family: sans-serif;
        padding: 20px;
      }
      #map {
        width: 100%;
        height: 400px;
        margin-top: 20px;
        border: 1px solid #ccc;
      }
      .status {
        margin-top: 10px;
        font-weight: bold;
      }
    </style>
  </head>
  <body>
    <h2>ğŸ” Google Maps API Key è¨ºæ–·å·¥å…·</h2>
    <p>ç›®å‰é é¢ä¾†æº Refererï¼ˆç”¨æ–¼é‡‘é‘°æˆæ¬Šï¼‰ï¼š<br><code id="referer">Loading...</code></p>
    <div class="status" id="status">åˆå§‹åŒ–ä¸­...</div>
    <div id="map"></div>

    <script>
      document.getElementById("referer").textContent = window.location.href;

      function initMap() {
        try {
          const map = new google.maps.Map(document.getElementById("map"), {
            center: { lat: 25.033964, lng: 121.564468 },
            zoom: 14
          });

          new google.maps.Marker({
            position: { lat: 25.033964, lng: 121.564468 },
            map: map,
            title: "å°åŒ—101"
          });

          document.getElementById("status").textContent = "âœ… åœ°åœ–æˆåŠŸè¼‰å…¥ï¼ŒAPI é‡‘é‘°æˆæ¬Šæ­£å¸¸";
        } catch (e) {
          document.getElementById("status").textContent = "âŒ Google Maps åˆå§‹åŒ–å¤±æ•—ï¼Œè«‹æª¢æŸ¥é‡‘é‘°æˆ–ç¶²åŸŸæˆæ¬Š";
        }
      }

      // è‹¥è¼‰å…¥å¤±æ•—ï¼Œè‡ªå‹•é¡¯ç¤ºéŒ¯èª¤
      window.gm_authFailure = () => {
        document.getElementById("status").textContent = "âŒ é‡‘é‘°é©—è­‰å¤±æ•—ï¼ˆgm_authFailureï¼‰ï¼ŒAPI é‡‘é‘°æˆæ¬ŠéŒ¯èª¤";
      };
    </script>

    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBFgPiVmNInyejokQMww2u7Dzi7SsH9GB8&callback=initMap"></script>
  </body>
</html>
